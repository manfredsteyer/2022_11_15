<h1 class="title">Flight Search</h1>

<form>
    <div class="form-group">
        <label>From:</label>
        <input [(ngModel)]="from" name="from" class="form-control">
    </div>
    <div class="form-group">
        <label>To:</label>
        <input [(ngModel)]="to" name="to" class="form-control">
    </div>

    <div class="form-group">
        <button (click)="search()" class="btn btn-default">Search</button>
    </div>
</form>

<table class="table table-condensed" *ngIf="flights.length > 0">
    <thead>
        <tr>
            <th>Id</th>
            <th>From</th>
            <th>To</th>
            <th>Date</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let f of flights" [class.table-active]="f === selectedFlight">
            <td>{{f.id}}</td>
            <td>{{f.from }}</td>
            <td>{{f.to }}</td>
            <td>{{f.date | date:'dd.MM.yyyy HH:mm'}}</td>
            <td>
                <a (click)="select(f)">Select</a>
            </td>
        </tr>
    <tbody>
</table>

<div *ngIf="selectedFlight">

    <div>
        {{ message }}
    </div>

    <div class="form-group">
        <label>Id</label>
        <input [(ngModel)]="selectedFlight.id" class="form-control">
    </div>

    <div class="form-group">
        <label>From</label>
        <input [(ngModel)]="selectedFlight.from" class="form-control">
    </div>

    <div class="form-group">
        <label>To</label>
        <input [(ngModel)]="selectedFlight.to" class="form-control">
    </div>

    <div class="form-group">
        <label>Date</label>
        <input [(ngModel)]="selectedFlight.date" class="form-control">
    </div>

    <div class="form-group">
        <label>Delayed</label>
        <input [(ngModel)]="selectedFlight.delayed" type="checkbox" class="form-control">
    </div>
    
    <button (click)="save()" class="btn btn-default">Save</button>

</div>

<div class="content">
    <pre>{{ selectedFlight | json }}</pre>
</div>